Options -Indexes -MultiViews
DirectorySlash Off

<IfModule mod_headers.c>
  # Always send CORS headers (even on errors / redirects)
  Header always set Access-Control-Allow-Origin "https://jabuspark-mvp1.vercel.app"
  Header always set Access-Control-Allow-Credentials "true"
  Header always set Access-Control-Allow-Methods "GET, POST, PUT, PATCH, DELETE, OPTIONS"
  Header always set Access-Control-Allow-Headers "Content-Type, Authorization"
  Header always set Vary "Origin"
</IfModule>

<IfModule mod_rewrite.c>
RewriteEngine On

# Short-circuit preflight
RewriteCond %{REQUEST_METHOD} =OPTIONS
RewriteRule ^ - [R=204,L]

# Serve real files (static assets)
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# Everything else -> front controller
RewriteRule ^ index.php [QSA,L]
</IfModule>
